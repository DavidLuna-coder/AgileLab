@using Front.Helpers
@using Shared.DTOs.Filters
@using Shared.DTOs.Pagination
@using Shared.DTOs.Projects

<MudDataGrid ServerData="GetTaskData"  T="TaskSummaryDto">
	<Columns>
		<PropertyColumn Property="t => t.Name" Title="Nombre" />

	</Columns>
</MudDataGrid>
@code {
	[Parameter]
	public Func<FilteredPaginatedRequestDto<GetTaskSummaryQueryFilters>, Task<PaginatedResponseDto<TaskSummaryDto>>> GetServerData { get; set; }

	async Task<GridData<TaskSummaryDto>> GetTaskData(GridState<TaskSummaryDto> gridState)
	{
		if (GetServerData == null) return new();

		FilteredPaginatedRequestDto<GetTaskSummaryQueryFilters> requestDto = gridState.ToFilteredPaginatedRequestDto<GetTaskSummaryQueryFilters, TaskSummaryDto>();
		requestDto.Filters = new();
		PaginatedResponseDto<TaskSummaryDto> response = await GetServerData(requestDto);
		return response.ToGridData<TaskSummaryDto>();
	}
}
